From 4fee05eecb254ad8794d246885e0aec990efccb5 Mon Sep 17 00:00:00 2001
From: Alwin Esch <alwin.esch@web.de>
Date: Thu, 23 Dec 2021 17:41:39 +0100
Subject: [PATCH 1/3] sync translations with Matrix version

---
 inputstream.ffmpegdirect/addon.xml.in         |  5 ++
 .../resource.language.da_dk/strings.po        | 36 ++++++------
 .../resource.language.es_mx/strings.po        | 11 ++--
 .../resource.language.fi_fi/strings.po        | 57 ++++++++++---------
 .../resource.language.ru_ru/strings.po        | 36 ++++++------
 5 files changed, 76 insertions(+), 69 deletions(-)

diff --git a/inputstream.ffmpegdirect/addon.xml.in b/inputstream.ffmpegdirect/addon.xml.in
index ac0a343..d1b00c7 100644
--- a/inputstream.ffmpegdirect/addon.xml.in
+++ b/inputstream.ffmpegdirect/addon.xml.in
@@ -25,6 +25,8 @@
     <summary lang="da_DK">InputStream-klient til FFmpeg-streams (libavformat)</summary>
     <summary lang="de_DE">InputStream-Client für FFmpeg-Streams (libavformat)</summary>
     <summary lang="en_GB">InputStream Client for FFmpeg streams (libavformat)</summary>
+    <summary lang="es_MX">Cliente InputStream para flujos FFmpeg (libavformat)</summary>
+    <summary lang="fi_FI">InputStream asiakasohjelma FFmpeg suoratoistoille (libavformat)</summary>
     <summary lang="ko_KR">FFmpeg 스트림용 InputStream 클라이언트(libavformat)</summary>
     <summary lang="pl_PL">Klient InputStream dla strumieni FFmpeg (libavformat)</summary>
     <summary lang="ru_RU">InputStream клиент для FFmpeg потоков (libavformat)</summary>
@@ -33,8 +35,11 @@
     <description lang="da_DK">InputStream-klient til streams, der kan åbnes af enten FFmpeg's libavformat eller Kodi's cURL. Almindelige streamformater som f.eks. almindelig TS, HLS og DASH (uden DRM) understøttes såvel som mange andre.[CR][CR]Add-on'et har også understøttelse af Arkiv-/Catchup-tjenester, hvor der er et afspilningsvindue (normalt i dage) og kan tidsforskyde på tværs af dette spænd.[CR][CR]For dokumentation besøg: https://github.com/xbmc/inputstream.ffmpegdirect/blob/Matrix/README.md</description>
     <description lang="de_DE">InputStream-Client für Streams, die entweder mit dem libav-Format von FFmpeg oder mit cURL von Kodi geöffnet werden können. Gängige Stream-Formate wie TS, HLS und DASH (ohne DRM) werden ebenso unterstützt wie viele andere.[CR][CR]Das Addon unterstützt auch Archiv-/Aufholdienste, bei denen Wiedergabefenster vorhanden sind (normalerweise in Tagen), und kann über diesen Zeitraum hinweg eine Zeitverschiebung bewirken.[CR][CR]Dokumentation unter: https://github.com/xbmc/inputstream.ffmpegdirect/blob/Matrix/README.md</description>
     <description lang="en_GB">InputStream Client for streams that can be opened by either FFmpeg's libavformat or Kodi's cURL. Common stream formats such as plain TS, HLS and DASH (without DRM) are supported as well as many others.[CR][CR]The addon also has support for Archive/Catchup services where there is a replay windows (usually in days) and can timeshift across that span.[CR][CR]For documenation visit: https://github.com/xbmc/inputstream.ffmpegdirect/blob/Matrix/README.md</description>
+    <description lang="es_MX">Cliente InputStream para flujos de datos que pueden abrirse con libavformat de FFmpeg o cURL integrado en Kodi. Formatos de flujo comunes tales como TS simple, HLS y DASH (sin DRM) también están soportados, al igual que muchos otros.[CR][CR]El complemento también soporta servicios Archive/Catchup donde hay un espacio de repetición (usualmente en días) y se puede mover a través del tiempo de dicho espacio.[CR][CR]Para documentación visita: https://github.com/xbmc/inputstream.ffmpegdirect/blob/Matrix/README.md</description>
+    <description lang="fi_FI">InputStream asiakasohjelma suoratoistoille, jotka voidaan avata joko FFmpegin libavformaatilla tai Kodin cURL:llä. Yleisiä suoratoistomuotoja, kuten tavallinen TS, HLS ja DASH (ilman DRM:ää), tuetaan sekä monia muita.[CR][CR]Lisäosa tukee myös Arkisto-/Catchup-palveluita, joissa on uusintaikkunoita (yleensä päivissä) ja voi siirtyä aikavälillä.[CR][CR]Dokumentaatiot löytyvät osoitteesta: https://github.com/xbmc/inputstream.ffmpegdirect/blob/Matrix/README.md</description>
     <description lang="ko_KR">FFmpeg의 libavformat 또는 Kodi의 cURL로 열 수 있는 스트림용 InputStream 클라이언트. 일반 TS, HLS 및 DASH(DRM 제외)와 같은 일반적인 스트림 형식은 물론 다른 많은 형식도 지원됩니다.[CR][CR]이 애드온은 재생 창(보통 며칠)이 있는 아카이브/따라잡기 서비스도 지원합니다. 해당 범위에서 타임시프트할 수 있습니다.[CR][CR]문서를 보려면 https://github.com/xbmc/inputstream.ffmpegdirect/blob/Matrix/README.md를 방문하세요</description>
     <description lang="pl_PL">Klient InputStream dla strumieni, które można otworzyć za pomocą libavformat FFmpeg lub cURL Kodi. Obsługiwane są popularne formaty strumieniowe, takie jak zwykły TS, HLS i DASH (bez DRM), a także wiele innych.[CR][CR]Dodatek obsługuje również usługę archiwizacji, która zapewnia okno powtórek (zazwyczaj w dniach) i może wykonywać przesunięcie czasowe przez ten zakres.[CR][CR]W celu uzyskania dokumentacji odwiedź: https://github.com/xbmc/inputstream.ffmpegdirect/blob/Matrix/README.md</description>
+    <description lang="ru_RU">Клиент InputStream для потоков, которые можно открыть с помощью libavformat от FFmpeg или с помощью Kodi cURL. Поддерживаются основные форматы потоков такие, как простой TS, HLS, DASH (без DRM) и многие другие.[CR][CR]Дополнение также имеет поддержку служб Архива/Перемотки, где есть окна воспроизведения (обычно в днях), которые могут сдвигаться по времени в течение этого промежутка.[CR][CR]Для документации посетите: https://github.com/xbmc/inputstream.ffmpegdirect/blob/Matrix/README.md</description>
     <description lang="zh_CN">InputStream 客户端，用于可通过 FFmpeg 的 libavformat 或 Kodi 的 cURL 打开的流。支持普通 TS、HLS 和 DASH（无DRM）等常见流格式以及其他许多格式。[CR][CR]该插件还支持有重播窗口（通常以天为单位）的归档/捕获服务，并可以在该时间跨度内进行时光平移。[CR][CR]相关文档请访问：https://github.com/xbmc/inputstream.ffmpegdirect/blob/Matrix/README.md</description>
   </extension>
 </addon>
diff --git a/inputstream.ffmpegdirect/resources/language/resource.language.da_dk/strings.po b/inputstream.ffmpegdirect/resources/language/resource.language.da_dk/strings.po
index 76f1d7f..58d5760 100644
--- a/inputstream.ffmpegdirect/resources/language/resource.language.da_dk/strings.po
+++ b/inputstream.ffmpegdirect/resources/language/resource.language.da_dk/strings.po
@@ -5,7 +5,7 @@
 msgid ""
 msgstr ""
 "Report-Msgid-Bugs-To: translations@kodi.tv\n"
-"PO-Revision-Date: 2021-09-10 09:50+0000\n"
+"PO-Revision-Date: 2021-11-14 14:13+0000\n"
 "Last-Translator: Christian Gade <gade@kodi.tv>\n"
 "Language-Team: Danish <https://kodi.weblate.cloud/projects/kodi-add-ons-videoplayer-inputstream/inputstream-ffmpegdirect/da_dk/>\n"
 "Language: da_dk\n"
@@ -13,7 +13,7 @@ msgstr ""
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
 "Plural-Forms: nplurals=2; plural=n != 1;\n"
-"X-Generator: Weblate 4.8\n"
+"X-Generator: Weblate 4.9\n"
 
 msgctxt "Addon Summary"
 msgid "InputStream Client for FFmpeg streams (libavformat)"
@@ -57,7 +57,7 @@ msgstr "Brugernavn"
 #. label-option: Network - httpProxyPassword
 msgctxt "#30006"
 msgid "Password"
-msgstr "Kodeord"
+msgstr "Adgangskode"
 
 #. label-group: Network - Bandwidth
 msgctxt "#30007"
@@ -67,7 +67,7 @@ msgstr "Båndbredde"
 #. label-option: Network - networkBandwidth
 msgctxt "#30008"
 msgid "Stream selection bandwidth"
-msgstr ""
+msgstr "Båndbredde til stream"
 
 # empty strings from id 30009 to 30019
 #. label-category: timeshift
@@ -116,7 +116,7 @@ msgstr "Tillad logføring af FFmpeg"
 #. label: Advanced - probeForFps
 msgctxt "#30043"
 msgid "Probe for FPS"
-msgstr ""
+msgstr "Led efter FPS"
 
 #. label: Advanced - enableTeletext
 msgctxt "#30044"
@@ -126,12 +126,12 @@ msgstr "Aktiver tekst-tv"
 #. help: Advanced - useFastOpemForManifestStreams
 msgctxt "#30045"
 msgid "Use fast open for streams using a manifest file"
-msgstr ""
+msgstr "Brug hurtig åbning til streams ved hjælp af en manifestfil"
 
 #. help: Advanced - forceRealtimeOffCatchup
 msgctxt "#30046"
 msgid "For catchup streams report stream is not realtime"
-msgstr ""
+msgstr "For catch-up-streams er rapportstream ikke i realtid"
 
 # empty strings from id 30047 to 30599
 #. ############
@@ -141,12 +141,12 @@ msgstr ""
 #. help-category: Network
 msgctxt "#30600"
 msgid "This category contains the settings for network configuration such as FFmpeg proxy and bandwidth limits."
-msgstr ""
+msgstr "Kategori indeholdende indstillingerne for netværkskonfiguration, som f.eks. FFmpeg-proxy og begrænsning af båndbredde."
 
 #. help: Network - useHttpProxy
 msgctxt "#30601"
 msgid "Whether or not a proxy should be used when opening with FFmpeg. Note that if opened using curl kodi's proxy settings will be used."
-msgstr ""
+msgstr "Vælg om en proxy skal bruges eller ej, når der åbnes med FFmpeg. Bemærk, at hvis den åbnes ved hjælp af curl, vil Kodis proxyindstillinger blive brugt."
 
 #. help: Network - httpProxyHost
 msgctxt "#30602"
@@ -171,29 +171,29 @@ msgstr "Konfigurér proxyserverens adgangskode."
 #. help: Network - streamBandwidth
 msgctxt "#30606"
 msgid "Use this value as a maximum when selecting which HLS stream to use."
-msgstr ""
+msgstr "Brug denne værdi som maksimum, når du vælger, hvilken HLS-stream der skal bruges."
 
 # empty strings from id 30607 to 30619
 #. help info - Timeshift
 #. help-category: timeshift
 msgctxt "#30620"
 msgid "This category contains the settings for timeshift. Timeshifting allows you to pause live TV as well as move back and forward from your current position similar to playing back a recording."
-msgstr ""
+msgstr "Kategori indeholdende indstillingerne for tidsforskydning. Tidsforskydning giver dig mulighed for at sætte direkte tv på pause samt gå tilbage og fremad fra din nuværende position på samme måde som afspilning af en optagelse."
 
 #. help: Timeshift - timeshiftBufferPath
 msgctxt "#30621"
 msgid "The path used to store the timeshift buffer. The default is the [I]\"addon_data/inputstream.ffmpegdirect/timeshift\"[/I] folder in userdata. Note that this folder will be cleared  of timeshift files on Kodi startup. Only relevant when [I]\"inputstream.ffmpegdirect.stream_mode=timeshift\"[/I] property is passed to the addon."
-msgstr ""
+msgstr "Stien der bruges til at gemme tidsforskydnings-bufferen. Standard er mappen [I]\"addon_data/inputstream.ffmpegdirect/timeshift\"[/I] i brugerdata. Bemærk, at denne mappe slettes for tidsforskydnings-filer ved opstart af Kodi. Kun relevant når [I]\"inputstream.ffmpegdirect.stream_mode=timeshift\"[/I] værdi sendes til add-on'en."
 
 #. help: Timeshift - timeshiftEnableLimit
 msgctxt "#30622"
 msgid "Enable this option to limit the length of the timeshift buffer. If disabled the buffer will grow forever until playback is stopped. Regardless of this setting the buffer will also grow forever if paused."
-msgstr ""
+msgstr "Aktiver denne indstilling for at begrænse længden af tidforskydnings-bufferen. Ved deaktivering vokser bufferen for evigt, indtil afspilningen stoppes. Uanset denne indstilling vil bufferen også vokse for evigt, hvis afspilning er sat på pause."
 
 #. help: Timeshift - timeshiftOnDiskLength
 msgctxt "#30623"
 msgid "The length of the timeshift buffer in hours. Once the value is reached the older buffer data will be deleted to ensure the limit is not breached. Note that the storage for your device should be sufficient to allow the buffer to grow to it's maximum length (otherwise it's equivalent to disabling this option). A good heuristic for video size is 130MB per minute of 1080p video and 375MB per minute of 4K video."
-msgstr ""
+msgstr "Længden af tidsforskydnings-bufferen i timer. Når værdien er nået, vil de ældre bufferdata blive slettet for at sikre, at grænsen ikke overskrides. Bemærk, at lagerpladsen til din enhed skal være tilstrækkelig for at tillade bufferen at vokse til sin maksimale længde (ellers svarer det til at deaktivere denne mulighed). En god regel for videostørrelse er 130MB pr. minut af 1080p-video og 375MB pr. minut af 4K-video."
 
 # empty strings from id 30624 to 30639
 #. help info - Advanced
@@ -205,12 +205,12 @@ msgstr "Avancerede indstillinger"
 #. help: Advanced - allowFFmpegLogging
 msgctxt "#30641"
 msgid "If enabled the addon will log any FFmpeg logging to the Kodi log."
-msgstr ""
+msgstr "Ved aktivering vil add-on'et logføre enhver FFmpeg-logføring til Kodi-loggen."
 
 #. help: Advanced - probeForFps
 msgctxt "#30642"
 msgid "Probe for frames per second. Default enabled. If disabled the value returned by the codec will be used."
-msgstr ""
+msgstr "Led efter billeder per sekund. Aktiveret som standard. Ved deaktivering vil den værdi, der returneres af codec'et, blive brugt."
 
 #. help: Advanced - enableTeletext
 msgctxt "#30643"
@@ -220,9 +220,9 @@ msgstr "Tillad tekst-tv. Aktiveret som standard."
 #. help: Advanced - useFastOpenForManifestStreams
 msgctxt "#30644"
 msgid "Streams which have a manifest file (e.g. HLD/DASH/Smooth Streaming) can be opened more quickly with FFmpeg with this option enabled."
-msgstr ""
+msgstr "Streams der har en manifestfil (f.eks. HLD/DASH/Smooth Streaming) kan åbnes hurtigere med FFmpeg med denne mulighed aktiveret."
 
 #. help: Advanced - forceRealtimeOffCatchup
 msgctxt "#30645"
 msgid "For certain catchup streams such as HLS reporting that a live stream is not live can improve stream open times. If testing this option works for a catchup stream/provider, then add a [I]\"#KODIPROP=inputstream.ffmpegdirect.is_realtime_stream=false\"[/I] to the M3U entry in question. This setting should not be left enabled for all streams."
-msgstr ""
+msgstr "For visse catch-up-streams, såsom HLS, kan rapportering om at en livestream ikke er direkte, forbedre tiden streamen er åben. Hvis test af denne mulighed virker for en catchup-stream/udbyder, skal du tilføje en [I]\"#KODIPROP=inputstream.ffmpegdirect.is_realtime_stream=false\"[/I] til den pågældende M3U-post. Denne indstilling bør ikke aktiveres for alle streams."
diff --git a/inputstream.ffmpegdirect/resources/language/resource.language.es_mx/strings.po b/inputstream.ffmpegdirect/resources/language/resource.language.es_mx/strings.po
index 38d75bf..82b69b2 100644
--- a/inputstream.ffmpegdirect/resources/language/resource.language.es_mx/strings.po
+++ b/inputstream.ffmpegdirect/resources/language/resource.language.es_mx/strings.po
@@ -4,23 +4,24 @@
 # Addon Provider: phunkyfish
 msgid ""
 msgstr ""
-"PO-Revision-Date: 2021-05-18 13:46+0000\n"
-"Last-Translator: Christian Gade <gade@kodi.tv>\n"
+"Report-Msgid-Bugs-To: translations@kodi.tv\n"
+"PO-Revision-Date: 2021-10-02 17:30+0000\n"
+"Last-Translator: Edson Armando <edsonarmando78@outlook.com>\n"
 "Language-Team: Spanish (Mexico) <https://kodi.weblate.cloud/projects/kodi-add-ons-videoplayer-inputstream/inputstream-ffmpegdirect/es_mx/>\n"
 "Language: es_mx\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
 "Plural-Forms: nplurals=2; plural=n != 1;\n"
-"X-Generator: Weblate 4.6.2\n"
+"X-Generator: Weblate 4.8\n"
 
 msgctxt "Addon Summary"
 msgid "InputStream Client for FFmpeg streams (libavformat)"
-msgstr ""
+msgstr "Cliente InputStream para flujos FFmpeg (libavformat)"
 
 msgctxt "Addon Description"
 msgid "InputStream Client for streams that can be opened by either FFmpeg's libavformat or Kodi's cURL. Common stream formats such as plain TS, HLS and DASH (without DRM) are supported as well as many others.[CR][CR]The addon also has support for Archive/Catchup services where there is a replay windows (usually in days) and can timeshift across that span.[CR][CR]For documenation visit: https://github.com/xbmc/inputstream.ffmpegdirect/blob/Matrix/README.md"
-msgstr ""
+msgstr "Cliente InputStream para flujos de datos que pueden abrirse con libavformat de FFmpeg o cURL integrado en Kodi. Formatos de flujo comunes tales como TS simple, HLS y DASH (sin DRM) también están soportados, al igual que muchos otros.[CR][CR]El complemento también soporta servicios Archive/Catchup donde hay un espacio de repetición (usualmente en días) y se puede mover a través del tiempo de dicho espacio.[CR][CR]Para documentación visita: https://github.com/xbmc/inputstream.ffmpegdirect/blob/Matrix/README.md"
 
 #. settings labels
 #. label-category: Network
diff --git a/inputstream.ffmpegdirect/resources/language/resource.language.fi_fi/strings.po b/inputstream.ffmpegdirect/resources/language/resource.language.fi_fi/strings.po
index 41a70f6..0958cd0 100644
--- a/inputstream.ffmpegdirect/resources/language/resource.language.fi_fi/strings.po
+++ b/inputstream.ffmpegdirect/resources/language/resource.language.fi_fi/strings.po
@@ -4,23 +4,24 @@
 # Addon Provider: phunkyfish
 msgid ""
 msgstr ""
-"PO-Revision-Date: 2021-05-18 13:46+0000\n"
-"Last-Translator: Christian Gade <gade@kodi.tv>\n"
+"Report-Msgid-Bugs-To: translations@kodi.tv\n"
+"PO-Revision-Date: 2021-12-04 17:13+0000\n"
+"Last-Translator: G0mez82 <jalehto_99@hotmail.com>\n"
 "Language-Team: Finnish <https://kodi.weblate.cloud/projects/kodi-add-ons-videoplayer-inputstream/inputstream-ffmpegdirect/fi_fi/>\n"
 "Language: fi_fi\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
 "Plural-Forms: nplurals=2; plural=n != 1;\n"
-"X-Generator: Weblate 4.6.2\n"
+"X-Generator: Weblate 4.9.1\n"
 
 msgctxt "Addon Summary"
 msgid "InputStream Client for FFmpeg streams (libavformat)"
-msgstr ""
+msgstr "InputStream asiakasohjelma FFmpeg suoratoistoille (libavformat)"
 
 msgctxt "Addon Description"
 msgid "InputStream Client for streams that can be opened by either FFmpeg's libavformat or Kodi's cURL. Common stream formats such as plain TS, HLS and DASH (without DRM) are supported as well as many others.[CR][CR]The addon also has support for Archive/Catchup services where there is a replay windows (usually in days) and can timeshift across that span.[CR][CR]For documenation visit: https://github.com/xbmc/inputstream.ffmpegdirect/blob/Matrix/README.md"
-msgstr ""
+msgstr "InputStream asiakasohjelma suoratoistoille, jotka voidaan avata joko FFmpegin libavformaatilla tai Kodin cURL:llä. Yleisiä suoratoistomuotoja, kuten tavallinen TS, HLS ja DASH (ilman DRM:ää), tuetaan sekä monia muita.[CR][CR]Lisäosa tukee myös Arkisto-/Catchup-palveluita, joissa on uusintaikkunoita (yleensä päivissä) ja voi siirtyä aikavälillä.[CR][CR]Dokumentaatiot löytyvät osoitteesta: https://github.com/xbmc/inputstream.ffmpegdirect/blob/Matrix/README.md"
 
 #. settings labels
 #. label-category: Network
@@ -36,7 +37,7 @@ msgstr "HTTP-välipalvelin"
 #. label: Network - useHttpProxy
 msgctxt "#30002"
 msgid "Use HTTP proxy when opening with FFmpeg"
-msgstr ""
+msgstr "Käytä HTTP-välityspalvelinta, kun avaat FFmpegillä"
 
 #. label-option: Network - httpProxyHost
 msgctxt "#30003"
@@ -61,12 +62,12 @@ msgstr "Salasana"
 #. label-group: Network - Bandwidth
 msgctxt "#30007"
 msgid "Bandwidth"
-msgstr ""
+msgstr "Kaistanleveys"
 
 #. label-option: Network - networkBandwidth
 msgctxt "#30008"
 msgid "Stream selection bandwidth"
-msgstr ""
+msgstr "Suoratoiston valinnan kaistanleveys"
 
 # empty strings from id 30009 to 30019
 #. label-category: timeshift
@@ -83,12 +84,12 @@ msgstr "Ajansiirtopuskurin polku"
 #. label: Timeshift - timeshiftEnableLimit
 msgctxt "#30022"
 msgid "Enable timeshift limit"
-msgstr ""
+msgstr "Ota aikasiirtoraja käyttöön"
 
 #. label: Timeshift - timeshiftOnDiskLength
 msgctxt "#30023"
 msgid "Maximum timeshift buffer length"
-msgstr ""
+msgstr "Aikasiirtopuskurin enimmäispituus"
 
 #. format-label: Timeshift - timeshiftOnDiskLength
 msgctxt "#30024"
@@ -105,32 +106,32 @@ msgstr "Lisäasetukset"
 #. label-group: Advanced - Logging
 msgctxt "#30041"
 msgid "FFmpeg"
-msgstr ""
+msgstr "FFmpeg"
 
 #. label: Advanced - allowFFmpegLogging
 msgctxt "#30042"
 msgid "Allow FFmpeg logging"
-msgstr ""
+msgstr "Salli FFmpeg lokikirjaus"
 
 #. label: Advanced - probeForFps
 msgctxt "#30043"
 msgid "Probe for FPS"
-msgstr ""
+msgstr "FPS Tutkain"
 
 #. label: Advanced - enableTeletext
 msgctxt "#30044"
 msgid "Enable teletext"
-msgstr ""
+msgstr "Ota teksti-TV käyttöön"
 
 #. help: Advanced - useFastOpemForManifestStreams
 msgctxt "#30045"
 msgid "Use fast open for streams using a manifest file"
-msgstr ""
+msgstr "Käytä nopeaa avaamista suoratoistoille käyttäen manifestitiedostoa"
 
 #. help: Advanced - forceRealtimeOffCatchup
 msgctxt "#30046"
 msgid "For catchup streams report stream is not realtime"
-msgstr ""
+msgstr "Catchup suoratoistoissa ilmoita että suoratoisto ei ole reaaliaikainen"
 
 # empty strings from id 30047 to 30599
 #. ############
@@ -140,12 +141,12 @@ msgstr ""
 #. help-category: Network
 msgctxt "#30600"
 msgid "This category contains the settings for network configuration such as FFmpeg proxy and bandwidth limits."
-msgstr ""
+msgstr "Tämä luokka sisältää verkkomäärityksen asetukset, kuten FFmpeg-välityspalvelimen ja kaistanleveysrajoitukset."
 
 #. help: Network - useHttpProxy
 msgctxt "#30601"
 msgid "Whether or not a proxy should be used when opening with FFmpeg. Note that if opened using curl kodi's proxy settings will be used."
-msgstr ""
+msgstr "Määrittää pitäisikö välityspalvelinta käyttää avattaessa FFmpegillä. Huomaa, että jos avataan käyttäen curl:a, Kodin välityspalvelinasetuksia käytetään."
 
 #. help: Network - httpProxyHost
 msgctxt "#30602"
@@ -170,29 +171,29 @@ msgstr "Määritä välityspalveimen salasana."
 #. help: Network - streamBandwidth
 msgctxt "#30606"
 msgid "Use this value as a maximum when selecting which HLS stream to use."
-msgstr ""
+msgstr "Käytä tätä enimmäisarvoa, kun valitset käytettävää HLS suoratoistoa."
 
 # empty strings from id 30607 to 30619
 #. help info - Timeshift
 #. help-category: timeshift
 msgctxt "#30620"
 msgid "This category contains the settings for timeshift. Timeshifting allows you to pause live TV as well as move back and forward from your current position similar to playing back a recording."
-msgstr ""
+msgstr "Tämä kategoria sisältää ajansiirron asetukset. Ajansiirto toiminnolla voit keskeyttää suoran TV-lähetyksen sekä siirtyä taaksepäin ja eteenpäin nykyisestä kohdasta samalla tavalla kuin toistat tallennetta."
 
 #. help: Timeshift - timeshiftBufferPath
 msgctxt "#30621"
 msgid "The path used to store the timeshift buffer. The default is the [I]\"addon_data/inputstream.ffmpegdirect/timeshift\"[/I] folder in userdata. Note that this folder will be cleared  of timeshift files on Kodi startup. Only relevant when [I]\"inputstream.ffmpegdirect.stream_mode=timeshift\"[/I] property is passed to the addon."
-msgstr ""
+msgstr "Polku, jota käytetään ajansiirtopuskurin tallentamiseen. Oletus on [I]\"addon_data/inputstream.ffmpegdirect/timeshift\"[/I] userdata kansiossa. Huomaa, että tämä kansio tyhjennetään ajansiirtotiedostoista Kodin käynnistyksen yhteydessä. Olennainen pelkästään kun [I]\"inputstream.ffmpegdirect.stream_mode=timeshift\"[/I] ominaisuus välitetään lisäosalle."
 
 #. help: Timeshift - timeshiftEnableLimit
 msgctxt "#30622"
 msgid "Enable this option to limit the length of the timeshift buffer. If disabled the buffer will grow forever until playback is stopped. Regardless of this setting the buffer will also grow forever if paused."
-msgstr ""
+msgstr "Ota tämä vaihtoehto käyttöön rajoittaaksesi ajansiirtopuskurin pituutta. Jos se on poistettu käytöstä, puskuri kasvaa ikuisesti, kunnes toisto lopetetaan. Tästä asetuksesta huolimatta puskuri kasvaa ikuisesti, jos ohjelma pistetään tauolle."
 
 #. help: Timeshift - timeshiftOnDiskLength
 msgctxt "#30623"
 msgid "The length of the timeshift buffer in hours. Once the value is reached the older buffer data will be deleted to ensure the limit is not breached. Note that the storage for your device should be sufficient to allow the buffer to grow to it's maximum length (otherwise it's equivalent to disabling this option). A good heuristic for video size is 130MB per minute of 1080p video and 375MB per minute of 4K video."
-msgstr ""
+msgstr "Ajansiirtopuskurin pituus tunteina. Kun arvo saavutetaan, vanhat puskuritiedot poistetaan, jotta rajaa ei rikota. Huomaa, että laitteesi tallennustilan tulee olla riittävä, jotta puskuri voi kasvaa maksimipituuteensa (muuten se vastaa tämän vaihtoehdon poistamista käytöstä). Hyvä heuristinen videokoko on 130 Mt/min 1080p-videota ja 375 Mt/min 4K-videota."
 
 # empty strings from id 30624 to 30639
 #. help info - Advanced
@@ -204,24 +205,24 @@ msgstr "Lisäasetukset"
 #. help: Advanced - allowFFmpegLogging
 msgctxt "#30641"
 msgid "If enabled the addon will log any FFmpeg logging to the Kodi log."
-msgstr ""
+msgstr "Mikäli käytössä, lisäosa kirjaa kaikki FFmpeg kirjaukset Kodin lokitiedostoon."
 
 #. help: Advanced - probeForFps
 msgctxt "#30642"
 msgid "Probe for frames per second. Default enabled. If disabled the value returned by the codec will be used."
-msgstr ""
+msgstr "Tutkain ruutuja per sekunnille. Oletuksena käytössä. Jos se ei ole käytössä, käytetään koodekin palauttamaa arvoa."
 
 #. help: Advanced - enableTeletext
 msgctxt "#30643"
 msgid "Allow teletext. Default enabled."
-msgstr ""
+msgstr "Salli teksti-TV. Oletuksena käytössä."
 
 #. help: Advanced - useFastOpenForManifestStreams
 msgctxt "#30644"
 msgid "Streams which have a manifest file (e.g. HLD/DASH/Smooth Streaming) can be opened more quickly with FFmpeg with this option enabled."
-msgstr ""
+msgstr "Suoratoistot, joilla on manifestitiedosto (esim. HLD/DASH/Smooth Streaming), voidaan avata nopeammin FFmpegillä, kun tämä vaihtoehto on käytössä."
 
 #. help: Advanced - forceRealtimeOffCatchup
 msgctxt "#30645"
 msgid "For certain catchup streams such as HLS reporting that a live stream is not live can improve stream open times. If testing this option works for a catchup stream/provider, then add a [I]\"#KODIPROP=inputstream.ffmpegdirect.is_realtime_stream=false\"[/I] to the M3U entry in question. This setting should not be left enabled for all streams."
-msgstr ""
+msgstr "Tiettyjen catchup suoratoistojen, kuten HLS:n ilmoittaessa että suora lähetys ei tule suorana voi parantaa streamin avausaikoja. Jos tämän vaihtoehdon testaus toimii catchup suoratoiston/palveluntarjoajan kanssa, lisää [I]\"#KODIPROP=inputstream.ffmpegdirect.is_realtime_stream=false\"[/I] kyseiseen M3U-merkintään. Tätä asetusta ei pidä jättää käyttöön kaikille suoratoistoille."
diff --git a/inputstream.ffmpegdirect/resources/language/resource.language.ru_ru/strings.po b/inputstream.ffmpegdirect/resources/language/resource.language.ru_ru/strings.po
index 03cfe32..ed34f88 100644
--- a/inputstream.ffmpegdirect/resources/language/resource.language.ru_ru/strings.po
+++ b/inputstream.ffmpegdirect/resources/language/resource.language.ru_ru/strings.po
@@ -5,7 +5,7 @@
 msgid ""
 msgstr ""
 "Report-Msgid-Bugs-To: translations@kodi.tv\n"
-"PO-Revision-Date: 2021-09-04 11:29+0000\n"
+"PO-Revision-Date: 2021-10-25 09:22+0000\n"
 "Last-Translator: Dmitry Petrov <dimakrm361@gmail.com>\n"
 "Language-Team: Russian <https://kodi.weblate.cloud/projects/kodi-add-ons-videoplayer-inputstream/inputstream-ffmpegdirect/ru_ru/>\n"
 "Language: ru_ru\n"
@@ -21,7 +21,7 @@ msgstr "InputStream клиент для FFmpeg потоков (libavformat)"
 
 msgctxt "Addon Description"
 msgid "InputStream Client for streams that can be opened by either FFmpeg's libavformat or Kodi's cURL. Common stream formats such as plain TS, HLS and DASH (without DRM) are supported as well as many others.[CR][CR]The addon also has support for Archive/Catchup services where there is a replay windows (usually in days) and can timeshift across that span.[CR][CR]For documenation visit: https://github.com/xbmc/inputstream.ffmpegdirect/blob/Matrix/README.md"
-msgstr ""
+msgstr "Клиент InputStream для потоков, которые можно открыть с помощью libavformat от FFmpeg или с помощью Kodi cURL. Поддерживаются основные форматы потоков такие, как простой TS, HLS, DASH (без DRM) и многие другие.[CR][CR]Дополнение также имеет поддержку служб Архива/Перемотки, где есть окна воспроизведения (обычно в днях), которые могут сдвигаться по времени в течение этого промежутка.[CR][CR]Для документации посетите: https://github.com/xbmc/inputstream.ffmpegdirect/blob/Matrix/README.md"
 
 #. settings labels
 #. label-category: Network
@@ -67,40 +67,40 @@ msgstr "Пропускная способность"
 #. label-option: Network - networkBandwidth
 msgctxt "#30008"
 msgid "Stream selection bandwidth"
-msgstr ""
+msgstr "Пропускная способность для выбора потока"
 
 # empty strings from id 30009 to 30019
 #. label-category: timeshift
 #. label-group: Timeshift - Timeshift
 msgctxt "#30020"
 msgid "Timeshift"
-msgstr ""
+msgstr "Таймшифт"
 
 #. label: Timeshift - timeshiftBufferPath
 msgctxt "#30021"
 msgid "Timeshift buffer path"
-msgstr ""
+msgstr "Путь к буферу таймшифт"
 
 #. label: Timeshift - timeshiftEnableLimit
 msgctxt "#30022"
 msgid "Enable timeshift limit"
-msgstr ""
+msgstr "Включить ограничение таймшифт"
 
 #. label: Timeshift - timeshiftOnDiskLength
 msgctxt "#30023"
 msgid "Maximum timeshift buffer length"
-msgstr ""
+msgstr "Максимальная длина буфера таймшифт"
 
 #. format-label: Timeshift - timeshiftOnDiskLength
 msgctxt "#30024"
 msgid "{0:.2f} hours"
-msgstr ""
+msgstr "{0:.2f} часов"
 
 # empty strings from id 30025 to 30039
 #. label-category: advanced
 msgctxt "#30040"
 msgid "Advanced"
-msgstr ""
+msgstr "Расширенные"
 
 #. label-category: advanced
 #. label-group: Advanced - Logging
@@ -111,7 +111,7 @@ msgstr "FFmpeg"
 #. label: Advanced - allowFFmpegLogging
 msgctxt "#30042"
 msgid "Allow FFmpeg logging"
-msgstr ""
+msgstr "Включить журнал FFmpeg"
 
 #. label: Advanced - probeForFps
 msgctxt "#30043"
@@ -121,7 +121,7 @@ msgstr ""
 #. label: Advanced - enableTeletext
 msgctxt "#30044"
 msgid "Enable teletext"
-msgstr ""
+msgstr "Включить телетекст"
 
 #. help: Advanced - useFastOpemForManifestStreams
 msgctxt "#30045"
@@ -141,7 +141,7 @@ msgstr ""
 #. help-category: Network
 msgctxt "#30600"
 msgid "This category contains the settings for network configuration such as FFmpeg proxy and bandwidth limits."
-msgstr ""
+msgstr "Эта категория содержит настройки сети такие, как ограничение пропускной способности или прокси-сервер FFmpeg."
 
 #. help: Network - useHttpProxy
 msgctxt "#30601"
@@ -178,34 +178,34 @@ msgstr ""
 #. help-category: timeshift
 msgctxt "#30620"
 msgid "This category contains the settings for timeshift. Timeshifting allows you to pause live TV as well as move back and forward from your current position similar to playing back a recording."
-msgstr ""
+msgstr "Эта категория содержит настройки таймшифт (timeshift). Таймшифт позволяет ставить на паузу ТВ и перемещаться вперёд и назад, что похоже на перемотку видео записей."
 
 #. help: Timeshift - timeshiftBufferPath
 msgctxt "#30621"
 msgid "The path used to store the timeshift buffer. The default is the [I]\"addon_data/inputstream.ffmpegdirect/timeshift\"[/I] folder in userdata. Note that this folder will be cleared  of timeshift files on Kodi startup. Only relevant when [I]\"inputstream.ffmpegdirect.stream_mode=timeshift\"[/I] property is passed to the addon."
-msgstr ""
+msgstr "Путь, используемый для хранения буфера таймшифт. По умолчанию это папка [I]\"userdata/addon_data/inputstream.ffmpegdirect/timeshift\"[/I]. Обратите внимание, что папка будет очищаться при каждом запуске Kodi. Актуально только тогда, когда свойство [I]\"inputstream.ffmpegdirect.stream_mode=timeshift\"[/I] передаётся дополнению."
 
 #. help: Timeshift - timeshiftEnableLimit
 msgctxt "#30622"
 msgid "Enable this option to limit the length of the timeshift buffer. If disabled the buffer will grow forever until playback is stopped. Regardless of this setting the buffer will also grow forever if paused."
-msgstr ""
+msgstr "Включите эту опцию, чтобы ограничить длину буфера таймшифт. Если выключено, буфер будет расти до тех пор, пока воспроизведение не будет остановлено. Независимо от этого параметра, буфер также будет постоянно расти, если воспроизведение приостановлено."
 
 #. help: Timeshift - timeshiftOnDiskLength
 msgctxt "#30623"
 msgid "The length of the timeshift buffer in hours. Once the value is reached the older buffer data will be deleted to ensure the limit is not breached. Note that the storage for your device should be sufficient to allow the buffer to grow to it's maximum length (otherwise it's equivalent to disabling this option). A good heuristic for video size is 130MB per minute of 1080p video and 375MB per minute of 4K video."
-msgstr ""
+msgstr "Длина буфера таймшифт в часах. При достижении указанного значения, старые данные буфера, будут удалены, чтобы гарантировать, что лимит не нарушен. Обратите внимание, что хранилища вашего устройства должно быть достаточно, чтобы буфер увеличился до максимальной длины (в противном случае это эквивалентно отключению этой опции). Наблюдаемые значения для видео: 130 МБ в минуту для 1080p и 375 МБ в минуту для 4K."
 
 # empty strings from id 30624 to 30639
 #. help info - Advanced
 #. help-category: advanced
 msgctxt "#30640"
 msgid "Advanced settings"
-msgstr ""
+msgstr "Расширенные настройки"
 
 #. help: Advanced - allowFFmpegLogging
 msgctxt "#30641"
 msgid "If enabled the addon will log any FFmpeg logging to the Kodi log."
-msgstr ""
+msgstr "Если включен, дополнение будет записывать журнал FFmpeg, в журнал Kodi."
 
 #. help: Advanced - probeForFps
 msgctxt "#30642"

From 001b6a08592d4013a9e89e45177d104cb0436f16 Mon Sep 17 00:00:00 2001
From: Alwin Esch <alwin.esch@web.de>
Date: Thu, 23 Dec 2021 17:43:25 +0100
Subject: [PATCH 2/3] API related update

---
 src/StreamManager.cpp              | 27 ++++++++++++---------------
 src/StreamManager.h                |  4 ++--
 src/stream/FFmpegCatchupStream.cpp |  2 +-
 src/stream/FFmpegStream.cpp        | 12 ++++++------
 src/stream/TimeshiftBuffer.cpp     |  6 +++---
 5 files changed, 24 insertions(+), 27 deletions(-)

diff --git a/src/StreamManager.cpp b/src/StreamManager.cpp
index fa68edb..d30d5b3 100644
--- a/src/StreamManager.cpp
+++ b/src/StreamManager.cpp
@@ -52,7 +52,7 @@ void Log(const LogLevel logLevel, const char* format, ...)
   kodi::Log(addonLevel, buffer);
 }
 
-InputStreamFFmpegDirect::InputStreamFFmpegDirect(KODI_HANDLE instance, const std::string& version)
+InputStreamFFmpegDirect::InputStreamFFmpegDirect(const kodi::addon::IInstanceInfo& instance)
   : CInstanceInputStream(instance)
 {
 }
@@ -192,19 +192,19 @@ bool InputStreamFFmpegDirect::Open(const kodi::addon::InputstreamProperty& props
 
   HttpProxy httpProxy;
 
-  bool useHttpProxy = kodi::GetSettingBoolean("useHttpProxy");
+  bool useHttpProxy = kodi::addon::GetSettingBoolean("useHttpProxy");
   if (useHttpProxy)
   {
-    httpProxy.SetProxyHost(kodi::GetSettingString("httpProxyHost"));
+    httpProxy.SetProxyHost(kodi::addon::GetSettingString("httpProxyHost"));
     kodi::Log(ADDON_LOG_INFO, "HttpProxy host set: '%s'", httpProxy.GetProxyHost().c_str());
 
-    httpProxy.SetProxyPort(static_cast<uint16_t>(kodi::GetSettingInt("httpProxyPort")));
+    httpProxy.SetProxyPort(static_cast<uint16_t>(kodi::addon::GetSettingInt("httpProxyPort")));
     kodi::Log(ADDON_LOG_INFO, "HttpProxy port set: %d", static_cast<int>(httpProxy.GetProxyPort()));
 
-    httpProxy.SetProxyUser(kodi::GetSettingString("httpProxyUser"));
+    httpProxy.SetProxyUser(kodi::addon::GetSettingString("httpProxyUser"));
     kodi::Log(ADDON_LOG_INFO, "HttpProxy user set: '%s'", httpProxy.GetProxyUser().c_str());
 
-    httpProxy.SetProxyPassword(kodi::GetSettingString("httpProxyPassword"));
+    httpProxy.SetProxyPassword(kodi::addon::GetSettingString("httpProxyPassword"));
   }
 
   if (m_properties.m_streamMode == StreamMode::CATCHUP)
@@ -382,20 +382,17 @@ void InputStreamFFmpegDirect::FreeDemuxPacketFromInputStreamAPI(DEMUX_PACKET* pa
 
 /*****************************************************************************************************/
 
-class ATTRIBUTE_HIDDEN CMyAddon
+class ATTR_DLL_LOCAL CMyAddon
   : public kodi::addon::CAddonBase
 {
 public:
-  CMyAddon() { }
-  virtual ADDON_STATUS CreateInstance(int instanceType,
-                                      const std::string& instanceID,
-                                      KODI_HANDLE instance,
-                                      const std::string& version,
-                                      KODI_HANDLE& addonInstance) override
+  CMyAddon() = default;
+  ADDON_STATUS CreateInstance(const kodi::addon::IInstanceInfo& instance,
+                              KODI_ADDON_INSTANCE_HDL& hdl) override
   {
-    if (instanceType == ADDON_INSTANCE_INPUTSTREAM)
+    if (instance.IsType(ADDON_INSTANCE_INPUTSTREAM))
     {
-      addonInstance = new InputStreamFFmpegDirect(instance, version);
+      hdl = new InputStreamFFmpegDirect(instance);
       return ADDON_STATUS_OK;
     }
     return ADDON_STATUS_NOT_IMPLEMENTED;
diff --git a/src/StreamManager.h b/src/StreamManager.h
index a067f09..d67d8e1 100644
--- a/src/StreamManager.h
+++ b/src/StreamManager.h
@@ -36,11 +36,11 @@ static const std::string TIMEZONE_SHIFT = "inputstream.ffmpegdirect.timezone_shi
 static const std::string DEFAULT_PROGRAMME_DURATION = "inputstream.ffmpegdirect.default_programme_duration";
 static const std::string PROGRAMME_CATCHUP_ID = "inputstream.ffmpegdirect.programme_catchup_id";
 
-class ATTRIBUTE_HIDDEN InputStreamFFmpegDirect
+class ATTR_DLL_LOCAL InputStreamFFmpegDirect
   : public kodi::addon::CInstanceInputStream, ffmpegdirect::IManageDemuxPacket
 {
 public:
-  InputStreamFFmpegDirect(KODI_HANDLE instance, const std::string& version);
+  InputStreamFFmpegDirect(const kodi::addon::IInstanceInfo& instance);
   ~InputStreamFFmpegDirect();
 
   virtual bool Open(const kodi::addon::InputstreamProperty& props) override;
diff --git a/src/stream/FFmpegCatchupStream.cpp b/src/stream/FFmpegCatchupStream.cpp
index dd2e995..a47ad8f 100644
--- a/src/stream/FFmpegCatchupStream.cpp
+++ b/src/stream/FFmpegCatchupStream.cpp
@@ -371,7 +371,7 @@ void FFmpegCatchupStream::UpdateCurrentPTS()
 
 bool FFmpegCatchupStream::IsRealTimeStream()
 {
-  if (kodi::GetSettingBoolean("forceRealtimeOffCatchup"))
+  if (kodi::addon::GetSettingBoolean("forceRealtimeOffCatchup"))
     return false;
 
   return m_isRealTimeStream && m_pFormatContext->duration <= 0;
diff --git a/src/stream/FFmpegStream.cpp b/src/stream/FFmpegStream.cpp
index 8fd9c00..05dbc39 100644
--- a/src/stream/FFmpegStream.cpp
+++ b/src/stream/FFmpegStream.cpp
@@ -151,7 +151,7 @@ FFmpegStream::FFmpegStream(IManageDemuxPacket* demuxPacketManager, const Propert
   m_dtsAtDisplayTime = STREAM_NOPTS_VALUE;
 
   FFmpegLog::SetLogLevel(AV_LOG_INFO);
-  FFmpegLog::SetEnabled(kodi::GetSettingBoolean("allowFFmpegLogging"));
+  FFmpegLog::SetEnabled(kodi::addon::GetSettingBoolean("allowFFmpegLogging"));
   av_log_set_callback(ff_avutil_log);
 }
 
@@ -181,7 +181,7 @@ bool FFmpegStream::Open(const std::string& streamUrl, const std::string& mimeTyp
     FFmpegLog::SetEnabled(true);
     av_dump_format(m_pFormatContext, 0, CURL::GetRedacted(streamUrl).c_str(), 0);
   }
-  FFmpegLog::SetEnabled(kodi::GetSettingBoolean("allowFFmpegLogging"));
+  FFmpegLog::SetEnabled(kodi::addon::GetSettingBoolean("allowFFmpegLogging"));
 
   return m_opened;
 }
@@ -709,7 +709,7 @@ bool FFmpegStream::Open(bool fileinfo)
   }
 
   // Avoid detecting framerate if our advanced settings says so
-  if (!kodi::GetSettingBoolean("probeForFps"))
+  if (!kodi::addon::GetSettingBoolean("probeForFps"))
     m_pFormatContext->fps_probe_size = 0;
 
   // analyse very short to speed up mjpeg playback start
@@ -924,7 +924,7 @@ bool FFmpegStream::OpenWithFFmpeg(AVInputFormat* iformat, const AVIOInterruptCB&
   if (result < 0)
   {
     // We only process this condition for manifest streams when this setting is disabled
-    if (!kodi::GetSettingBoolean("useFastOpenForManifestStreams") || m_manifestType.empty())
+    if (!kodi::addon::GetSettingBoolean("useFastOpenForManifestStreams") || m_manifestType.empty())
     {
       m_pFormatContext->flags |= AVFMT_FLAG_PRIV_OPT;
       if (avformat_open_input(&m_pFormatContext, strFile.c_str(), iformat, &options) < 0)
@@ -1244,7 +1244,7 @@ unsigned int FFmpegStream::HLSSelectProgram()
 {
   unsigned int prog = UINT_MAX;
 
-  int bandwidth = kodi::GetSettingInt("streamBandwidth") * 1000;
+  int bandwidth = kodi::addon::GetSettingInt("streamBandwidth") * 1000;
   if (bandwidth <= 0)
     bandwidth = INT_MAX;
 
@@ -1907,7 +1907,7 @@ DemuxStream* FFmpegStream::AddStream(int streamIdx)
       // }
       case AVMEDIA_TYPE_SUBTITLE:
       {
-        if (pStream->codecpar->codec_id == AV_CODEC_ID_DVB_TELETEXT && kodi::GetSettingBoolean("enableTeletext"))
+        if (pStream->codecpar->codec_id == AV_CODEC_ID_DVB_TELETEXT && kodi::addon::GetSettingBoolean("enableTeletext"))
         {
           DemuxStreamTeletext* st = new DemuxStreamTeletext();
           stream = st;
diff --git a/src/stream/TimeshiftBuffer.cpp b/src/stream/TimeshiftBuffer.cpp
index 9e7f08e..78e5c1b 100644
--- a/src/stream/TimeshiftBuffer.cpp
+++ b/src/stream/TimeshiftBuffer.cpp
@@ -20,7 +20,7 @@ using namespace kodi::tools;
 TimeshiftBuffer::TimeshiftBuffer(IManageDemuxPacket* demuxPacketManager)
   : m_demuxPacketManager(demuxPacketManager)
 {
-  m_timeshiftBufferPath = kodi::GetSettingString("timeshiftBufferPath");
+  m_timeshiftBufferPath = kodi::addon::GetSettingString("timeshiftBufferPath");
   if (m_timeshiftBufferPath.empty())
   {
     m_timeshiftBufferPath = DEFAULT_TIMESHIFT_BUFFER_PATH;
@@ -34,9 +34,9 @@ TimeshiftBuffer::TimeshiftBuffer(IManageDemuxPacket* demuxPacketManager)
   if (!kodi::vfs::DirectoryExists(m_timeshiftBufferPath))
     kodi::vfs::CreateDirectory(m_timeshiftBufferPath);
 
-  if (!kodi::CheckSettingBoolean("timeshiftEnableLimit", m_enableOnDiskSegmentLimit))
+  if (!kodi::addon::CheckSettingBoolean("timeshiftEnableLimit", m_enableOnDiskSegmentLimit))
     m_enableOnDiskSegmentLimit = true;
-  float onDiskTotalLengthHours = kodi::GetSettingFloat("timeshiftOnDiskLength");
+  float onDiskTotalLengthHours = kodi::addon::GetSettingFloat("timeshiftOnDiskLength");
   if (onDiskTotalLengthHours <= 0.0f)
     onDiskTotalLengthHours = DEFAULT_TIMESHIFT_SEGMENT_ON_DISK_LENGTH_HOURS;
   int onDiskTotalLengthSeconds = onDiskTotalLengthHours * 60 * 60;

From e89a52f22e204511c040331125ad64a4712df4eb Mon Sep 17 00:00:00 2001
From: Alwin Esch <alwin.esch@web.de>
Date: Thu, 23 Dec 2021 17:44:26 +0100
Subject: [PATCH 3/3] increase version to 20.1.0

---
 inputstream.ffmpegdirect/addon.xml.in  | 2 +-
 inputstream.ffmpegdirect/changelog.txt | 4 ++++
 2 files changed, 5 insertions(+), 1 deletion(-)

diff --git a/inputstream.ffmpegdirect/addon.xml.in b/inputstream.ffmpegdirect/addon.xml.in
index d1b00c7..86f6505 100644
--- a/inputstream.ffmpegdirect/addon.xml.in
+++ b/inputstream.ffmpegdirect/addon.xml.in
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <addon
   id="inputstream.ffmpegdirect"
-  version="20.0.1"
+  version="20.1.0"
   name="Inputstream FFmpeg Direct"
   provider-name="Ross Nicholson">
   <requires>@ADDON_DEPENDS@</requires>
diff --git a/inputstream.ffmpegdirect/changelog.txt b/inputstream.ffmpegdirect/changelog.txt
index 1dc4895..cc91f60 100644
--- a/inputstream.ffmpegdirect/changelog.txt
+++ b/inputstream.ffmpegdirect/changelog.txt
@@ -1,3 +1,7 @@
+v20.1.0
+- Translation updates by Weblate
+- Kodi main API update to version 2.0.0
+
 v20.0.1
 - Fixed build about global Kodi API version 1.3.1
   - Lower versions also still usable.
